<!DOCTYPE html>
<html>
<head>
<title>Shree Laxmi Laboratory</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
margin:0;
font-family:'Segoe UI',sans-serif;
background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
color:white;
text-align:center;
}

.header{
padding:30px 15px;
background: rgba(255,255,255,0.05);
backdrop-filter: blur(10px);
border-bottom: 1px solid rgba(255,255,255,0.1);
box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.header h1{
margin:10px 0;
font-size:28px;
}

.address{
opacity:0.9;
font-size:14px;
}

.glass{
background: rgba(255,255,255,0.08);
backdrop-filter: blur(12px);
border-radius: 25px;
padding: 25px;
margin: 20px;
box-shadow: 0 10px 25px rgba(0,0,0,0.3);
border: 1px solid rgba(255,255,255,0.1);
transition: 0.3s;
}

.glass:hover{
transform: translateY(-5px);
}

.btn{
display:block;
width:85%;
margin:12px auto;
padding:15px;
font-size:16px;
background:#00e0a4;
color:black;
text-decoration:none;
border-radius:30px;
font-weight:bold;
transition:0.3s;
}

.btn:hover{
background:#00b383;
}

select{
padding:12px;
width:85%;
border-radius:12px;
border:none;
margin-top:10px;
}

input{
padding:10px;
width:80%;
margin:8px;
border-radius:8px;
border:none;
}

button{
padding:12px 25px;
border:none;
border-radius:30px;
background: linear-gradient(45deg,#00e0a4,#00b3ff);
color:white;
font-weight:bold;
font-size:15px;
cursor:pointer;
box-shadow:0 5px 15px rgba(0,0,0,0.3);
transition:0.3s;
}

button:hover{
transform:scale(1.05);
}

.footer{
margin-top:20px;
font-size:13px;
opacity:0.8;
}
 #dashboardSection{
animation: fadeIn 0.6s ease-in-out;
}

@keyframes fadeIn{
from{opacity:0; transform:translateY(20px);}
to{opacity:1; transform:translateY(0);}
}
</style>
 <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

<div class="header">
<h1>ðŸ§ª Shree Laxmi Laboratory</h1>
<p style="opacity:0.8; margin-top:5px;">
Smart Digital Lab Management System
</p>

<div class="address">
Near Naganaray Circle, Refinery Road,<br>
Pachpadra, Balotra 344032
</div>
</div>

<div class="glass">

<a class="btn" href="tel:9660050748">ðŸ“ž Call Now</a>

<a class="btn" href="https://wa.me/919660050748">ðŸ’¬ WhatsApp Support</a>

<h3>ðŸ“… Book Appointment</h3>

<form action="https://script.google.com/macros/s/AKfycbx0PK-HS0r63wnBkNzGAAbWukY-7Wv_TBhzb8n4faBbvLRyaQPlHuvla3jkA7iJ_C6h/exec" method="POST">
<input type="text" name="name" placeholder="Patient Name" required><br>
<input type="text" name="mobile" placeholder="Mobile Number" required><br>
<input type="text" name="test" placeholder="Test Name" required><br>
<input type="date" name="date" required><br>
 <input type="text" name="doctor" placeholder="Doctor Name" required>
<button type="submit">Submit Appointment</button>
</form><h3>ðŸ“„ Download Report</h3>

<input type="text" id="searchMobile" placeholder="Enter Mobile Number">
<br><br>
<button onclick="searchReport()">Check Report</button>

<p id="reportResult"></p>
<br><br>
<input type="password" id="ownerPass" placeholder="Enter Owner Password">
<br><br>
<button onclick="checkPassword()">Owner Dashboard</button>
<script>
 function checkPassword() {

var pass = document.getElementById("ownerPass").value;

if (pass === "1234") {
    loadDashboard();
} else {
    alert("Wrong Password!");
}

}
function searchReport() {

  var mobile = document.getElementById("searchMobile").value.trim();

  var sheetURL = "https://script.google.com/macros/s/AKfycbx0PK-HS0r63wnBkNzGAAbWukY-7Wv_TBhzb8n4faBbvLRyaQPlHuvla3jkA7iJ_C6h/exec";

  fetch(sheetURL)
    .then(response => response.json())
    .then(data => {

      var found = false;

      data.forEach(row => {

        var sheetMobile = String(row.Mobile).trim();
        var sheetStatus = String(row.Status).trim().toLowerCase();
        var sheetLink = row.ReportLink;

        if (
          sheetMobile === mobile &&
          sheetStatus.includes("report ready") &&
          sheetLink !== ""
        ) {
          document.getElementById("reportResult").innerHTML =
            '<a href="' + sheetLink + '" target="_blank">Click Here to Download Report</a>';
          found = true;
        }

      });

      if (!found) {
        document.getElementById("reportResult").innerHTML =
          "Report not ready yet.";
      }

    });
}
 function loadDashboard() {

  fetch("https://script.google.com/macros/s/AKfycbx0PK-HS0r63wnBkNzGAAbWukY-7Wv_TBhzb8n4faBbvLRyaQPlHuvla3jkA7iJ_C6h/exec?dashboard=true")
  .then(res => res.json())
  .then(data => {

    document.getElementById("dashboardSection").style.display = "block";

    document.getElementById("totalIncome").innerText = data.totalIncome;
    document.getElementById("paidAmount").innerText = data.paidAmount;
    document.getElementById("dueAmount").innerText = data.dueAmount;
    document.getElementById("totalAppointments").innerText = data.totalAppointments;
    document.getElementById("netToday").innerText = data.netToday;
   var ctx = document.getElementById("incomeChart").getContext("2d");

new Chart(ctx, {
type: "bar",
data: {
    labels: ["Total", "Paid", "Due"],
    datasets: [{
        label: "Amount â‚¹",
        data: [data.totalIncome, data.paidAmount, data.dueAmount]
    }]
},
options: {
    responsive: true
}
});

  });

 }
 function downloadPDF() {

const doc = new window.jspdf.jsPDF();

var totalIncome = document.getElementById("totalIncome").innerText;
var paidAmount = document.getElementById("paidAmount").innerText;
var dueAmount = document.getElementById("dueAmount").innerText;
var totalAppointments = document.getElementById("totalAppointments").innerText;
var netToday = document.getElementById("netToday").innerText;

doc.setFontSize(16);
doc.text("Shree Laxmi Laboratory", 20, 20);

doc.setFontSize(12);
doc.text("Daily Income Report", 20, 35);

doc.text("Total Income: Rs " + totalIncome, 20, 50);
doc.text("Paid Amount: Rs " + paidAmount, 20, 60);
doc.text("Pending Due: Rs " + dueAmount, 20, 70);
doc.text("Total Appointments: " + totalAppointments, 20, 80);
doc.text("Net Today: Rs " + netToday, 20, 90);

doc.save("Daily_Report.pdf");
}
</script>
<div id="dashboardSection" class="glass" style="display:none; margin-top:20px;">
  <h2>Owner Dashboard</h2>

  <p>Total Income Today: â‚¹<span id="totalIncome">0</span></p>
  <p>Paid Amount: â‚¹<span id="paidAmount">0</span></p>
  <p>Pending Due: â‚¹<span id="dueAmount">0</span></p>
  <p>Total Appointments: <span id="totalAppointments">0</span></p>
  <h3>Net Today: â‚¹<span id="netToday">0</span></h3>
 <br>
<canvas id="incomeChart" width="300" height="200"></canvas>
 <br><br>
<button onclick="downloadPDF()">Download Today Report (PDF)</button>
</div>
</div>

<div class="glass">

<h3>ðŸ§ª Test & Price List</h3>

<p><b>Bharat Fit-5</b> - â‚¹2399</p>
<p><b>Full Body Package</b> - â‚¹4999</p>
<p><b>Bharat Fit Package 1</b> - â‚¹899</p>
<hr>

<p><b>CBC</b> - â‚¹150</p>
<p><b>Thyroid Profile</b> - â‚¹450</p>
<p><b>Lipid Profile</b> - â‚¹400</p>
<hr>

<p><b>Blood Sugar (F/PP/Random)</b> - â‚¹50</p>
<p><b>HbA1c</b> - â‚¹400</p>
<p><b>ESR</b> - â‚¹100</p>
<hr>

<p><b>LFT</b> - â‚¹350</p>
<p><b>KFT</b> - â‚¹350</p>
<hr>

<p><b>Dengue Card</b> - â‚¹600</p>
<p><b>Malaria Card</b> - â‚¹100</p>
<p><b>Widal</b> - â‚¹100</p>
<p><b>Typhi Dot</b> - â‚¹350</p>
<hr>

<p><b>HIV</b> - â‚¹250</p>
<p><b>HBsAg</b> - â‚¹250</p>
<p><b>VDRL</b> - â‚¹150</p>

</div>

<div class="glass">

<h3>ðŸ’³ Online Payment</h3>

<select id="amountSelect" onchange="updateAmount()">
<option value="">Select Test</option>

<option value="2399">Bharat Fit-5 - â‚¹2399</option>
<option value="4999">Full Body Package - â‚¹4999</option>
<option value="899">Bharat Fit Package 1 - â‚¹899</option>
<option value="150">CBC - â‚¹150</option>
<option value="450">Thyroid Profile - â‚¹450</option>
<option value="400">Lipid Profile - â‚¹400</option>
<option value="50">Blood Sugar - â‚¹50</option>
<option value="400">HbA1c - â‚¹400</option>
<option value="100">ESR - â‚¹100</option>
<option value="350">LFT - â‚¹350</option>
<option value="350">KFT - â‚¹350</option>
<option value="600">Dengue Card - â‚¹600</option>
<option value="100">Malaria Card - â‚¹100</option>
<option value="100">Widal - â‚¹100</option>
<option value="350">Typhi Dot - â‚¹350</option>
<option value="250">HIV - â‚¹250</option>
<option value="250">HBsAg - â‚¹250</option>
<option value="150">VDRL - â‚¹150</option>

</select>

<br><br>

<a id="payBtn" class="btn" href="#">ðŸ’³ Pay Now</a>

<a id="whatsappBtn" class="btn" href="#">ðŸ“¤ Send Payment Screenshot</a>

</div>

<a class="btn" href="https://instagram.com/shree_laxmi_laboratory_">ðŸ“± Instagram Page</a>

<div class="footer">
Contact: 9660050748<br>
Home Collection Available
</div>

<script>
function updateAmount(){
var amount = document.getElementById("amountSelect").value;
if(amount !== ""){
document.getElementById("payBtn").href =
"upi://pay?pa=9660050748@ybl&pn=Shree%20Laxmi%20Laboratory&am="+amount+"&cu=INR";

document.getElementById("whatsappBtn").href =
"https://wa.me/919660050748?text=Hello%20Shree%20Laxmi%20Laboratory,%20I%20have%20paid%20â‚¹"+amount+"%20please%20find%20the%20screenshot.";
}
}
</script>

</body>
</html>
